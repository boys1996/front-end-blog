## Vue-router中的history模式和hash模式

### 哈希模式 (Hash Mode)

哈希模式使用 URL 的哈希来模拟一个完整的 URL，从而允许前端路由无需服务器配置即可正常工作。在这种模式下，当 URL 改变时，只有 `#` 及其后面部分会变化。这部分变化不会导致浏览器向服务器发出请求。

**例如：**

```plaintext
http://example.com/#/user/id
```



在上面的例子中，`#/user/id` 是哈希值。当哈希值改变时（在浏览器的地址栏或者通过前端路由改变），页面不会重新加载。JavaScript 可以监听哈希值的改变，Vue Router 就是通过这种方式来实现前端路由的。



哈希模式的优势是它的兼容性好，几乎所有的浏览器都支持这种模式。



### 历史模式 (History Mode)

历史模式利用了 HTML5 History API 来实现前端路由，它允许你操作浏览器历史记录栈，改变 URL 而不重新向服务器发起请求。



**例如：**

```plaintext
http://example.com/user/id
```



与哈希模式不同，历史模式提供了更整洁的 URL，因为它看起来和正常的请求一样，没有 `#`。但是，这种模式需要服务器的支持：服务器必须配置为对所有前端路由都返回同一个入口文件（比如 `index.html`），这样前端路由才能在刷新页面时正确地工作。



历史模式的优势在于它提供了更美观也更符合常规网页浏览习惯的 URL。



**区别：**

- **URL 格式**：哈希模式使用 `#` 分隔符，而历史模式则不使用。
- **服务器配置**：历史模式需要服务器端进行配置以确保页面刷新时正常工作，哈希模式不需要特殊配置。
- **兼容性**：哈希模式几乎在所有浏览器中都能很好地工作，而历史模式需要浏览器支持 HTML5 History API。



### 适用场景

#### 哈希模式适用场景：



1. **静态文件托管**：如果你的应用部署在不允许服务器端配置的静态文件服务器上，哈希模式是理想的选择，因为它不需要服务器端重写规则。
2. **简单项目或原型开发**：对于不需要复杂 URL 结构的简单网页或者快速原型开发，哈希模式由于简单易用，可以快速地搭建起前端路由。
3. **兼容性要求**：需要支持老旧浏览器（不支持 HTML5 History API）的项目应该使用哈希模式。
4. **无需搜索引擎优化 (SEO)**：对于不需要被搜索引擎抓取的应用（如内部管理系统），哈希模式完全足够。



#### 历史模式适用场景：



1. **需要搜索引擎优化 (SEO)**：如果你的网页需要被搜索引擎抓取，使用历史模式能提供更友好的 URL 结构。
2. **现代浏览器用户群**：如果应用仅需在现代浏览器中运行，可以充分利用 HTML5 History API 提供的功能，使用历史模式。
3. **完全的服务器控制**：如果你可以配置服务器以支持 URL 重写（即所有请求返回同一个入口文件），这样可以确保用户直接访问或刷新非根 URL 时页面也能正确加载。
4. **大型单页面应用 (SPA)**：对于大型的单页面应用，历史模式可以提供干净、标准的 URL，这有助于用户的体验和链接的分享。
5. **路径的准确性**：如果你的应用中对 URL 的路径有精确的管理需求，比如基于路径实现复杂的嵌套路由，历史模式可以非常直观地表示出路由结构。



### 综上所述：



- 如果你不能或不想在服务器上进行配置，或者在寻求最大兼容性，那么哈希模式比较适合。
- 如果你追求更专业的外观和体验，能够控制服务器端配置，并且需要良好的SEO支持，历史模式将是更好的选择。